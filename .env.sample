# xCustom Field Expander Configuration
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# Server Configuration
PORT=8080
BASE_URL=http://localhost:8080

# Marketplace Add-on Configuration
ADDON_KEY=xcfe-custom-field-expander
# Unique marketplace key - change this to your registered addon key
ADDON_NAME=xCustom Field Expander
MIN_PLAN=PRO
# Supported plans: FREE, BASIC, PRO, ENTERPRISE (PRO required by guide)

# Clockify API Configuration
WORKSPACE_ID=your_workspace_id_here
CLOCKIFY_BASE_URL=https://api.clockify.me/api/v1
CLOCKIFY_REGION=
# Optional region override: euc1 (EU), use2 (USA), euw2 (UK), apse2 (AU)

# Authentication (optional fallback)
# NOTE: In production, the Installation lifecycle provides a perâ€‘workspace Add-on Token and backendUrl.
# These are cached automatically after installation; you do not need to set ADDON_TOKEN.
# Optionally, you may provide API_KEY or ADDON_TOKEN for manual testing only.
ADDON_TOKEN=
API_KEY=

# Webhook Configuration
ADDON_ID=your_addon_id_here
WEBHOOK_PUBLIC_URL=http://localhost:8080
CLOCKIFY_WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_RECONCILE=false
# Set to true to delete unknown webhooks during startup

# Admin UI Configuration
ADMIN_UI_ORIGIN=http://localhost:5173,https://developer.clockify.me
# Include developer.clockify.me for validation flows in dev
VITE_API_BASE_URL=/v1

# Clockify Add-on JWT Verification
RSA_PUBLIC_KEY_PEM='-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuGbXWiK3dQTyCbX5xdE4
yCuYp0yyTnH2jFjNEJNTOl1iVYNCbL+lJ5DQOr2DaQYyKlMzUYQ6b5E8eKDSA8nN
VPnLcJr1ixOLqr8c8VqpNQ8xQH+N8zJdE8tn2VfQLFNXkE5VcNJz0ybV5X7V5XKF
MvKxOl8wGn5zOGGJNTrqhLf3mHj8fKdVN3L0qkO1dA+9U7JvE0eMQ+5h1Y0Mk7yf
2H8zUzGdkGj8xX2y3K0VwJsD1fPQ8ZXJN8TqnFfYl2ckNw8c0L5n7Q1F0iV8Np3E
r5X4pKzq3+x4K7F7nR3xHm7m4XJL0a8X7n0y6nQZE4L1Q7x9yV8y+lG8H7z+3Xeq
owIDAQAB
-----END PUBLIC KEY-----'
# RSA public key from Clockify docs for JWT verification

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/xcfe

# Security
ENCRYPTION_KEY=your_32_character_encryption_key_here_minimum_length
ADMIN_SECRET=
JWT_AUDIENCE=xcfe-admin-ui
JWT_ISSUER=xcfe
JWT_TTL_MINUTES=15

# Development Settings
DEV_ALLOW_UNSIGNED=true
# Allow unsigned webhooks and lifecycle tokens in development
SKIP_DATABASE_CHECKS=true

# Logging
LOG_LEVEL=info
# Options: fatal, error, warn, info, debug, trace

# Rate Limiting
RATE_LIMIT_RPS=50
RATE_LIMIT_MAX_BACKOFF_MS=5000
